<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>显示学生信息<</title>
    <link rel="stylesheet" href="/css/login.css">
    <!--    <link rel="stylesheet" href="../static/css/sign-up-login.css">-->
    <!--    <link rel="stylesheet" type="../static/css/font-awesome.min.css">-->
    <!--    <link rel="stylesheet" href="../static/css/inputEffect.css"/>-->
    <!--    <link rel="stylesheet" href="../static/css/tooltips.css"/>-->
    <!--    <link rel="stylesheet" href="../static/css/spop.min.css"/>-->

    <script src="http://code.jquery.com/jquery-1.12.1.min.js"></script>
    <!--    <script src="../static/js/snow.js"></script>-->
    <!--    <script src="../static/js/jquery.pure.tooltips.js"></script>-->
    <!--    <script src="../static/js/spop.min.js"></script>-->
    <script>
        $(function () {
            $("#submit").click(function () {
                $.post("/user_login", $("#loginForm").serialize(), function (data) {
                    if (data.code == "0") {
                        window.location.href = "/index";
                    } else if (data.code == "1") {
                        $("#tick").text(data.message).css("color", "red");
                    }
                })
            });
            $("#image").change(function (){
                alert( $("#image").val());
                $.post("upload", {"file": $("#image").val()}, function (data) {
                    alert(data);
                })
            })
        });
        function uploadX(){
            alert("111")
            var fileName = $("#image").val();
            $.post("upload", {"file": fileName}, function (data) {
                alert(data);
            })
        }
    </script>
</head>
<body>
<div class="container">
    <div class="row" style="width: 600px">
        <!--        <div>-->
        <!--            <span>尊敬的</span><span class="hidden-sm hidden-xs" th:text="${session.user.getUsername()}"> </span>-->
        <!--        </div>-->
        <div th:if="${session.user ==null}" style="float: right;margin-top:85px;">
            <a href="/login">登陆</a>
            <!--            <a href="pages/user/regist.jsp">注册</a>-->
        </div>
        <div th:if="${session.user !=null}" style="float: right;margin-top:80px;">
            <span>欢迎</span>
            <span class="um_span" style="font-size: 20px;color: red;margin:0px 10px"
                  th:text="${session.user.getUsername()}"></span><span>光临</span>
            <a style="font-size: small" href="/user_exit">注销登陆</a>
        </div>
        <input type="file" accept="image/x-png,image/gif,image/jpeg,image/bmp"
        name="image" id="image" width="220px"/>
        <input class="btn btn-primary" type="button" onclick="uploadX()" value="提交"
               style="color:white;"/>
        <div style="display: inline-block;width: 600px;">
            <div class="panel panel-primary">
                <div class="panel-heading text-center">
                    <span class="panel-title">全部用户信息</span>
                </div>
                <div class="panel-body">
                    <ul class="list-group" style="position: relative">
                        <li class="list-group-item" th:each="user:${session.user}">
                            <span style="position: absolute;right: 1px;top: 1px;z-index: 1;height: 99%;width: 25%;">
                                <img style="width: 100%;height: 100%" th:src="${user.headPortrait}">
                            </span>
                            编号：<span th:text="${user.userid}"></span><br/>
                            用户名：<span th:text="${user.username}"></span><br/>
                            密码：<span th:text="${user.password}"></span><br/>
                            电话：<span th:text="${user.telephone}"></span><br/>
                            注册时间：<span th:text="${#dates.format(user.registertime, 'yyyy-MM-dd hh:mm:ss')}"></span><br/>
                            权限：<span th:text="${user.popedom=='0'?'管理员':'普通用户'}"></span><br/>
                        </li>

                    </ul>

                </div>
            </div>
        </div>

        <div style="display: inline-block;width: 600px;">
            <div class="panel panel-primary">
                <div class="panel-heading text-center">
                    <span class="panel-title">全部用户信息</span>
                </div>
                <div class="panel-body">
                    <table class="table-bordered" style="width: 100%">
                        <tr style="height: 40px; background-color: #f7ecb5">
                            <th class="text-center">编号</th>
                            <th class="text-center">用户名</th>
                            <th class="text-center">密码</th>
                            <th class="text-center">电话</th>
                            <th class="text-center">注册时间</th>
                            <th class="text-center">权限</th>
                        </tr>
                        <tr th:each="user:${users}" class="text-center" style="height: 40px">
                            <td><span th:text="${user.userid}"></span></td>
                            <td><span th:text="${user.username}"></span></td>
                            <td><span th:text="${user.password}"></span></td>
                            <td><span th:text="${user.telephone}"></span></td>
                            <td><span th:text="${#dates.format(user.registertime, 'yyyy-MM-dd hh:mm:ss')}"></span></td>
                            <td><span th:text="${user.popedom=='0'?'管理员':'普通用户'}"></span></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div style="display: inline-block;width: 600px;">
            <div class="panel panel-primary">
                <div class="panel-heading text-center">
                    <span class="panel-title">全部用户信息</span>
                </div>
                <div class="panel-body">
                    <ul class="list-group">
                        <li class="list-group-item" th:each="user:${users}">
                            <table class="table-bordered" style="width: 100%">
                                <tr>
                                    <th>编号</th>
                                    <td><span th:text="${user.userid}"></span></td>
                                </tr>
                                <tr>
                                    <th>用户名</th>
                                    <td><span th:text="${user.username}"></span></td>
                                </tr>
                                <tr>
                                    <th>密码</th>
                                    <td><span th:text="${user.password}"></span></td>
                                </tr>
                                <tr>
                                    <th>电话</th>
                                    <td><span th:text="${user.telephone}"></span></td>
                                </tr>
                                <tr>
                                    <th>注册时间</th>
                                    <td><span
                                            th:text="${#dates.format(user.registertime, 'yyyy-MM-dd hh:mm:ss')}"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <th>权限</th>
                                    <td><span th:text="${user.popedom=='0'?'管理员':'普通用户'}"></span></td>
                                </tr>
                            </table>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
